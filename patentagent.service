[Unit]
Description=PatentAgent - 智能专利撰写助手服务
After=network.target
Wants=network.target

[Service]
Type=simple
User=dpro
Group=dpro
WorkingDirectory=/nvme0n1/tools/PatentAgent
Environment=PYTHONPATH=/nvme0n1/tools/PatentAgent
Environment=STREAMLIT_SERVER_PORT=8501
Environment=STREAMLIT_SERVER_ADDRESS=0.0.0.0
Environment=STREAMLIT_BROWSER_GATHER_USAGE_STATS=false

ExecStart=/nvme0n1/tools/PatentAgent/.venv/bin/streamlit run main.py
ExecReload=/bin/kill -HUP $MAINPID
Restart=always
RestartSec=10

# 资源限制
MemoryLimit=2G
CPUQuota=200%

# 日志配置
StandardOutput=journal
StandardError=journal
SyslogIdentifier=patentagent

[Install]
WantedBy=multi-user.target